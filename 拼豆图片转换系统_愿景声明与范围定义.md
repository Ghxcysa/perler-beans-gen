# 拼豆图片转换系统 - 愿景声明与范围定义（Template 版本）

## 一、Vision Statement（愿景声明）

成为**最易用、最可靠、可持续扩展**的拼豆（Perler / Hama Beads）图纸生成工具，让任何人都能把一张图片快速转化为**可打印、可按步骤完成**的拼豆设计方案。  
我们希望降低“像素化、配色、网格划分、用量统计、步骤拆分”的门槛，为手工爱好者、教育从业者与创意创作者提供高效、有趣、可复制的拼豆制作体验，帮助用户获得清晰的制作路径与成就感。

---

## 二、Scope Definition（范围定义）

### 1. 项目基本信息

- **项目名称**：拼豆图片转换系统（Perler-Gen）
- **项目负责人**：用户（系统搭建者）
- **项目发起方**：用户（系统搭建者）
- **核心相关方**：  
  - 手工拼豆爱好者（个人创作、礼物制作）  
  - 教育工作者（课堂活动、STEAM、手工课程）  
  - 创意设计爱好者（图纸制作、内容创作、社群分享）
- **项目合理性（Why now / Why this）**：  
  传统拼豆图纸往往依赖手动像素化、手工配色与网格标注，效率低、易出错，且缺少可复用的分步指引。该系统旨在把“图片 → 拼豆图纸”的流程标准化与自动化，满足用户快速产出图纸、减少试错成本、提升完成率的需求。

---

### 2. 项目核心需求与可交付成果（In Scope 事项）

#### 2.1 核心功能需求

1. **图片上传与解析**
   - 支持常见图片格式：JPG、PNG（MVP 可先覆盖这两类；GIF 可作为增强项）
   - 自动读取尺寸、色彩信息，生成预览

2. **目标物品指定（单目标）**
   - 提供“框选/裁剪”能力：用户通过拖拽矩形框选择要转换的目标区域
   - MVP 默认“单目标处理”：一次只处理一张图片中的一个指定区域

3. **拼豆转换（网格化 + 配色）**
   - 将目标区域缩放到可配置网格尺寸（如 29×29 / 48×48 / 58×58）
   - 颜色量化与色卡匹配：把像素颜色映射到拼豆色卡（默认一套基础色卡）
   - 生成拼豆效果预览（像素化图）

4. **步骤拆分（便于摆豆）**
   - 输出分步摆豆提示（MVP 推荐“逐行”或“每步 N 行”）
   - 每一步明确标注本步要放置的格子（其余格子淡化/空白）

5. **输出与导出**
   - **PDF 导出（必须）**：包含网格、坐标轴、图例、分步页
   - 导出**拼豆颜色清单（用量统计）**：CSV 或 JSON
   - 导出预览图：PNG（量化后结果）

#### 2.2 可交付成果（Deliverables）

1. **可运行的拼豆图片转换系统**
   - 形态可为：CLI 工具 或 简易 Web 界面（MVP 任一即可）
   - 覆盖流程：上传/选择目标 → 转换 → 导出 PDF/清单

2. **系统使用说明书**
   - 包括：操作步骤、参数说明、支持格式、常见问题与建议（如如何选择网格尺寸、如何控制颜色数量）

3. **测试报告（基础版）**
   - 功能测试：核心流程可跑通
   - 兼容性测试：至少验证常见浏览器或常见运行环境（按你选择的实现形态）

---

### 3. 非目标（Out of Scope 事项）

- **不支持** 3D 图片、视频/动态内容的上传与转换（GIF 动图可拆帧属于后续增强）
- **不提供** 拼豆实物购买、材料推荐、电商跳转等功能
- **不支持** 自定义拼豆形状（MVP 仅适配标准网格/标准豆位）
- **不支持** 多目标同时转换（一次仅处理一个目标区域）
- **不包含** 高级图像编辑能力：
  - 不做高质量智能抠图/复杂背景分离
  - 不做色彩修复、AI 重绘、风格化生成等
- **不做** 复杂摆豆优化（最少移动、防错纠错、自动合并块等）——保持 MVP 简单可交付

---

### 4. 项目里程碑（Milestones）

1. **需求分析与技术选型完成**
   - 明确 MVP 支持的输入格式、网格档位、色卡与输出格式
2. **核心功能开发完成**
   - 图片上传/解析
   - 目标物品指定（框选/裁剪）
   - 网格转换与色卡映射（像素化 + 配色）
3. **输出功能开发完成**
   - PDF 导出（图例 + 坐标 + 分步页）
   - 颜色清单导出（CSV/JSON）+ 预览图导出
4. **系统测试与 Bug 修复完成**
   - 端到端跑通
   - 可读性与一致性检查（网格总数、清单数量校验）
5. **系统上线/交付与说明书发布**
   - 发布可运行版本 + 示例输入输出 + 使用文档

---

### 5. 成本估算（参考方向）

- **开发成本**
  - 前端界面（若做 Web）：上传、框选、预览、下载
  - 后端/核心算法：网格缩放、颜色量化、色卡映射、步骤拆分
  - PDF 导出：排版、图例、坐标、分步页渲染

- **测试成本**
  - 功能测试：不同图片类型（卡通/照片/复杂背景）、不同网格尺寸、不同颜色上限
  - 兼容性测试：不同运行环境/浏览器（按实现形态）

- **维护成本**
  - 上线后 Bug 修复
  - 色卡扩展与格式适配更新（新增色卡、优化映射效果、增强导出）

---

## 附：MVP 验收口径（简明版）
- 任意输入图片（JPG/PNG）→ 能生成：
  - `pattern.pdf`（含分步页）
  - `bead_list.csv/json`
  - `preview.png`
- 清单总数与网格总格数一致（W×H），PDF 可打印且可读。
